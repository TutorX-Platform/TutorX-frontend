<mat-toolbar color="primary" fxLayout="row" fxLayoutAlign="space-between center" style="position: fixed; top: 0; z-index: 1000; color: white">
  <mat-toolbar-row fxLayoutAlign="space-between center">
    <div fxLayoutAlign="start center">
      <button mat-icon-button class="example-icon" aria-label="Example icon-button with menu icon" (click)="onNavigateBack()">
        <mat-icon>arrow_back</mat-icon>
      </button>
      <span>Add Question</span>
    </div>
    <!--<button mat-icon-button class="example-icon favorite-icon" aria-label="Example icon-button with heart icon">-->
      <!--<mat-icon>circle</mat-icon>-->
    <!--</button>-->
  </mat-toolbar-row>
</mat-toolbar>
<mat-sidenav-container fxFlexFill>
  <div class="add-question" style="margin-top: 60px; margin-bottom: 60px;">
    <form [formGroup]="addQuestionForm" (submit)="onDone()" class="form-container">
      <div fxLayout="column" class="bottom-container"  style="padding: 16px 0px 16px 0px !important;">
        <div fxLayout="column" class="form-fields">
          <div class="tu-text-input">
            <div class="tu-text-input__label">Question Title</div>
            <mat-form-field class="" appearance="outline" [floatLabel]="'never'">
              <input matInput formControlName="questionTitle" placeholder="Enter Question Title" value="Value">
              <mat-error
                *ngIf="addQuestionForm.get('questionTitle')?.touched && addQuestionForm.get('questionTitle')?.hasError('required')"
                class="">
                {{validations.questionTitleRequired}}
              </mat-error>
            </mat-form-field>
          </div>
          <div fxLayout="column" class="search-container" style="width: 100% !important;">
            <div class="tu-text-input">
              <div class="tu-text-input__label">Subject</div>
              <mat-form-field appearance="outline">
                  <span matSuffix>
                  <mat-icon>expand_more</mat-icon> &nbsp;&nbsp;</span>
                <input matInput type="text" formControlName="subject" placeholder="Choose Subject" [matAutocomplete]="auto"
                       (blur)="changeSubCategory()">
                <mat-autocomplete #auto="matAutocomplete">
                  <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
                    {{option}}
                  </mat-option>
                </mat-autocomplete>
                <mat-error
                  *ngIf="addQuestionForm.get('subject')?.touched && addQuestionForm.get('subject')?.hasError('required')"
                  class="">
                  {{validations.questionSubjectRequired}}
                </mat-error>
              </mat-form-field>
            </div>
          </div>
          <div fxLayout="column" class="search-container" style="width: 100% !important;">
            <div class="tu-text-input">
              <div class="tu-text-input__label">Sub-category</div>
              <mat-form-field appearance="outline" class="">
                    <span matSuffix>
                    <mat-icon>expand_more</mat-icon> &nbsp;&nbsp;</span>
                <input matInput type="text-12" formControlName="subCategory" placeholder="Choose Subcategory" [matAutocomplete]="auto1">
                <mat-autocomplete #auto1="matAutocomplete">
                  <mat-option *ngFor="let subOption of subOptions" [value]="subOption">
                    {{subOption}}
                  </mat-option>
                </mat-autocomplete>
                <mat-error
                  *ngIf="addQuestionForm.get('subCategory')?.touched && addQuestionForm.get('subCategory')?.hasError('required')"
                  class="">
                  {{validations.questionCategoryRequired}}
                </mat-error>
              </mat-form-field>
            </div>
          </div>
          <div fxLayout="column">
            <div class="tu-text-input">
              <div class="tu-text-input__label">Due date-time</div>
              <mat-form-field appearance="outline" class="">
<!--                <input matInput [ngxMatDatetimePicker]="picker" [min]="date" placeholder="Choose a date & time"-->
<!--                       formControlName="dueDateTime">-->
<!--                <mat-datepicker-toggle matSuffix [for]="$any(picker)"></mat-datepicker-toggle>-->
<!--                <ngx-mat-datetime-picker #picker></ngx-mat-datetime-picker>-->
                <input matInput [owlDateTimeTrigger]="dt5" [owlDateTime]="dt5" [min]="date" placeholder="Choose a date & time" formControlName="dueDateTime">
                <owl-date-time [pickerMode]="'dialog'" #dt5></owl-date-time>
                <mat-error
                  *ngIf="addQuestionForm.get('dueDateTime')?.touched && addQuestionForm.get('dueDateTime')?.hasError('required')"
                  class="">
                  {{validations.questionDeadlineRequired}}
                </mat-error>
              </mat-form-field>
            </div>
          </div>

          <div class="tu-text-input">
            <div class="tu-text-input__label">Description</div>
            <mat-form-field class="" appearance="outline" [floatLabel]="'never'">
            <textarea matInput type="text" formControlName="description" placeholder="Enter Description"
                      oninput='this.style.height = "";this.style.height = this.scrollHeight + 3 +"px"'></textarea>
            </mat-form-field>
          </div>
        </div>
        <div style="width: 100%;">
          <!--<div class="custom-dropzone" ngx-dropzone [accept]="'*'" (change)="onSelect($event)">-->
            <!--<ngx-dropzone-label>-->
              <!--<div fxLayout="row" fxLayoutAlign="center center">-->
                <!--<mat-icon class="material-icons-outlined">-->
                  <!--file_upload-->
                <!--</mat-icon>-->
                <!--<div class="wording">Add Attachment</div>-->
              <!--</div>-->
            <!--</ngx-dropzone-label>-->
            <!--<div fxLayout="row" fxLayoutGap="-150px">-->
              <!--<custom-dropzone-preview ngProjectAs="ngx-dropzone-preview" *ngFor="let f of files" [file]="f" [removable]="true" (removed)="onRemove(f)">-->
                <!--&lt;!&ndash;<ngx-dropzone-label>{{ f.name }} ({{ f.type }})</ngx-dropzone-label>&ndash;&gt;-->
              <!--</custom-dropzone-preview>-->
            <!--</div>-->

          <!--</div>-->
          <div class="xx" fxLayout="column" fxLayoutAlign="center stretch">
            <div class="container" appDnd (fileDropped)="onFileDropped($event)" fxLayout="column" fxLayoutAlign="center center">
              <input type="file" #fileDropRef id="fileDropRef" multiple (change)="fileBrowseHandler($event.target)" />
              <mat-icon class="material-icons-outlined">
                file_upload
              </mat-icon>
              <div class="wording">Add Attachment</div>
            </div>
            <div class="files-list" *ngIf="files.length > 0">
              <div *ngFor="let file of files; let i = index">
                <div fxLayout="column">
                  <div class="file-prev" fxLayout="row" fxLayoutAlign="space-between center">
                    <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="16px">
                      <img src="assets/icons/file-all.svg">
                      <div class="file-name">{{file?.name}}</div>
                      <div *ngIf="file?.progress === 100" class="upload-success">Upload Successful</div>
                    </div>
                    <mat-icon (click)="deleteFile(i)" class="close">close</mat-icon>
                  </div>
                  <app-progress [progress]="file?.progress" *ngIf="file?.progress !== 100"></app-progress>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
      <div class="submit-footer" fxLayout="column">
        <button mat-flat-button [class.dissabled]="addQuestionForm.invalid" [disabled]="addQuestionForm.invalid" [class.submit-button-mobile]="addQuestionForm.valid" type="submit">Submit</button>
      </div>
    </form>
  </div>
</mat-sidenav-container>
