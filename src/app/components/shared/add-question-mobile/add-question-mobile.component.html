<mat-toolbar color="primary" fxLayout="row" fxLayoutAlign="space-between center" style="position: fixed; top: 0; z-index: 100000000; color: white">
  <mat-toolbar-row fxLayoutAlign="space-between center">
    <div fxLayoutAlign="start center">
      <button mat-icon-button class="example-icon" aria-label="Example icon-button with menu icon" (click)="onNavigateBack()">
        <mat-icon>arrow_back</mat-icon>
      </button>
      <span>Add Question</span>
    </div>
    <!--<button mat-icon-button class="example-icon favorite-icon" aria-label="Example icon-button with heart icon">-->
      <!--<mat-icon>circle</mat-icon>-->
    <!--</button>-->
  </mat-toolbar-row>
</mat-toolbar>
<mat-sidenav-container fxFlexFill>
  <div class="add-question" style="margin-top: 60px; margin-bottom: 60px;">
    <form [formGroup]="addQuestionForm" (submit)="onDone()" class="form-container">
      <div fxLayout="column" class="bottom-container"  style="padding: 16px 0px 16px 0px !important;">
        <div fxLayout="column" class="form-fields">
          <div class="label">Question Title</div>
          <mat-form-field appearance="outline" class="my-form-field">
            <input matInput type="text" formControlName="questionTitle" class="other">
          </mat-form-field>
          <div fxLayout="column" class="search-container" style="width: 100% !important;">
            <div class="label">Subject</div>
            <mat-form-field appearance="outline" class="my-form-field">
                  <span matSuffix>
                  <mat-icon>expand_more</mat-icon> &nbsp;&nbsp;</span>
              <input matInput type="text" formControlName="subject" [matAutocomplete]="auto" (blur)="changeSubCategory()">
              <mat-autocomplete #auto="matAutocomplete">
                <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
                  {{option}}
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>
          </div>
          <div fxLayout="column" class="search-container" style="width: 100% !important;">
            <div class="label">Sub-category</div>
            <mat-form-field appearance="outline" class="my-form-field">
                  <span matSuffix>
                  <mat-icon>expand_more</mat-icon> &nbsp;&nbsp;</span>
              <input matInput type="text-12" formControlName="subCategory" [matAutocomplete]="auto1">
              <mat-autocomplete #auto1="matAutocomplete">
                <mat-option *ngFor="let subOption of subOptions" [value]="subOption">
                  {{subOption}}
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>
          </div>
          <div fxLayout="column">
            <div class="label">Due date-time</div>
            <mat-form-field appearance="outline" class="my-form-field">
              <input matInput [ngxMatDatetimePicker]="picker" [min]="date" placeholder="Choose a date & time" formControlName="dueDateTime">
              <mat-datepicker-toggle matSuffix [for]="$any(picker)"></mat-datepicker-toggle>
              <ngx-mat-datetime-picker [touchUi]="true" #picker></ngx-mat-datetime-picker>
            </mat-form-field>
          </div>

          <div class="label">Description</div>
          <mat-form-field appearance="outline" class="my-form-field">
            <textarea matInput type="text" formControlName="description" oninput='this.style.height = "";this.style.height = this.scrollHeight + 3 +"px"'></textarea>
          </mat-form-field>
        </div>
        <mat-progress-spinner class="progress-spinner" [diameter]="70" [value]="uploadingProgress"
                              *ngIf="uploadingProgress > 0 && uploadingProgress < 100"></mat-progress-spinner>
        <div style="width: 100%;">
          <div class="custom-dropzone" ngx-dropzone [accept]="'*'" (change)="onSelect($event)">
            <ngx-dropzone-label>
              <div fxLayout="row" fxLayoutAlign="center center">
                <mat-icon class="material-icons-outlined">
                  file_upload
                </mat-icon>
                <div class="wording">Add Attachment</div>
              </div>
            </ngx-dropzone-label>
            <div fxLayout="row" fxLayoutGap="-150px">
              <custom-dropzone-preview ngProjectAs="ngx-dropzone-preview" *ngFor="let f of files" [file]="f" [removable]="true" (removed)="onRemove(f)">
                <!--<ngx-dropzone-label>{{ f.name }} ({{ f.type }})</ngx-dropzone-label>-->
              </custom-dropzone-preview>
            </div>

          </div>
        </div>

      </div>
      <div class="submit-footer" fxLayout="column">
        <button mat-flat-button [class.dissabled]="addQuestionForm.invalid" [disabled]="addQuestionForm.invalid" [class.submit-button-mobile]="addQuestionForm.valid" type="submit">Submit</button>
      </div>
    </form>
  </div>
</mat-sidenav-container>
